@model List<BYR.Models.User>


<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.js"></script>

<!--=====================
          Content
======================-->
<style>
    .CSSTableGenerator {
        margin: 0px;
        padding: 0px;
        width: 100%;
        box-shadow: 10px 10px 5px #888888;
        border: 1px solid #000000;
        -moz-border-radius-bottomleft: 21px;
        -webkit-border-bottom-left-radius: 21px;
        border-bottom-left-radius: 21px;
        -moz-border-radius-bottomright: 21px;
        -webkit-border-bottom-right-radius: 21px;
        border-bottom-right-radius: 21px;
        -moz-border-radius-topright: 21px;
        -webkit-border-top-right-radius: 21px;
        border-top-right-radius: 21px;
        -moz-border-radius-topleft: 21px;
        -webkit-border-top-left-radius: 21px;
        border-top-left-radius: 21px;
    }

        .CSSTableGenerator table {
            border-collapse: collapse;
            border-spacing: 0;
            width: 100%;
            height: 100%;
            margin: 0px;
            padding: 0px;
        }

        .CSSTableGenerator tr:last-child td:last-child {
            -moz-border-radius-bottomright: 21px;
            -webkit-border-bottom-right-radius: 21px;
            border-bottom-right-radius: 21px;
        }

        .CSSTableGenerator table tr:first-child td:first-child {
            -moz-border-radius-topleft: 21px;
            -webkit-border-top-left-radius: 21px;
            border-top-left-radius: 21px;
        }

        .CSSTableGenerator table tr:first-child td:last-child {
            -moz-border-radius-topright: 21px;
            -webkit-border-top-right-radius: 21px;
            border-top-right-radius: 21px;
        }

        .CSSTableGenerator tr:last-child td:first-child {
            -moz-border-radius-bottomleft: 21px;
            -webkit-border-bottom-left-radius: 21px;
            border-bottom-left-radius: 21px;
        }

        .CSSTableGenerator tr:hover td {
        }

        .CSSTableGenerator tr:nth-child(odd) {
            background-color: #e5e5e5;
        }

        .CSSTableGenerator tr:nth-child(even) {
            background-color: #ffffff;
        }

        .CSSTableGenerator td {
            vertical-align: middle;
            border: 1px solid #000000;
            border-width: 0px 1px 1px 0px;
            text-align: left;
            padding: 10px;
            font-size: 10px;
            font-family: Verdana;
            font-weight: bold;
            color: #000000;
        }

        .CSSTableGenerator tr:last-child td {
            border-width: 0px 1px 0px 0px;
        }

        .CSSTableGenerator tr td:last-child {
            border-width: 0px 0px 1px 0px;
        }

        .CSSTableGenerator tr:last-child td:last-child {
            border-width: 0px 0px 0px 0px;
        }

        .CSSTableGenerator tr:first-child td {
            background: -o-linear-gradient(bottom, #999999 5%, #666666 100%);
            background: -webkit-gradient( linear, left top, left bottom, color-stop(0.05, #999999), color-stop(1, #666666) );
            background: -moz-linear-gradient( center top, #999999 5%, #666666 100% );
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#999999", endColorstr="#666666");
            background: -o-linear-gradient(top,#999999,666666);
            background-color: #999999;
            border: 0px solid #000000;
            text-align: center;
            border-width: 0px 0px 1px 1px;
            font-size: 14px;
            font-family: Georgia;
            font-weight: bold;
            color: #ffffff;
        }

        .CSSTableGenerator tr:first-child:hover td {
            background: -o-linear-gradient(bottom, #999999 5%, #666666 100%);
            background: -webkit-gradient( linear, left top, left bottom, color-stop(0.05, #999999), color-stop(1, #666666) );
            background: -moz-linear-gradient( center top, #999999 5%, #666666 100% );
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#999999", endColorstr="#666666");
            background: -o-linear-gradient(top,#999999,666666);
            background-color: #999999;
        }

        .CSSTableGenerator tr:first-child td:first-child {
            border-width: 0px 0px 1px 0px;
        }

        .CSSTableGenerator tr:first-child td:last-child {
            border-width: 0px 0px 1px 1px;


        }

 form {
                width:500px;
                margin:50px auto;
}
.sea {
                padding:8px 15px;
                background:rgba(50, 50, 50, 0.2);
                border:0px solid #dbdbdb;
}
.butt {
                position:relative;
                padding:6px 15px;
                left:-8px;
                border:2px solid #207cca;
                background-color:#207cca;
                color:#fafafa;
}
.butt:hover  {
                background-color:#fafafa;
                color:#207cca;
}
</style>


<form>
    <input  class="sea" id ="sea" type="text" placeholder="Search..." >
    <input class="butt"  id="submit" type="button" value="Search">
</form>

<div class="CSSTableGenerator">
    <table id="myTable">
        <tbody>
            <tr>
                <td>
                    Id
                </td>
                <td>
                    First Name
                </td>
                <td>
                    last Name
                </td>
                <td>
                    Email
                </td>
                <td>
                    UserName
                </td>
                <td>
                    Status
                </td>
                <td>
                    Change Status
                </td>
                <td>
                    Delete User
                </td>
            </tr>


            @{

                if (Model.Count != 0)
                {
                    foreach (var User in Model)
                    {


                        <tr>
                            <td>
                                @User.Id
                            </td>
                            <td>
                                @User.firstName
                            </td>
                            <td>
                                @User.lastName
                            </td>
                            <td>
                                @User.email
                            </td>
                            <td>
                                @User.username
                            </td>
                            <td>

                                @User.status
                            </td>
                            <td>
                                @{
                                    if (@User.status == "Active")
                                    {
                                        @Html.ActionLink("Disable User", "BlockUser", new { id = User.Id })


                                    }
                                    else
                                    {
                                        @Html.ActionLink("Active User", "ActiveUser", new { id = User.Id })
                                    }
                                }

                            </td>
                            <td>

                                @Html.ActionLink("Delete User", "DeleteUser", new { id = User.Id })
                            </td>


                        </tr>

                                        }
                                    }
                                    else
                                    {

                                        <h1 align="center"> No result found </h1>

                                    }
            }
        </tbody>
    </table>
</div>

<script>
    $(document).ready(function () {
        
        $('#submit').click(function () {
            
            var search = $('#sea').val();

                

            $.getJSON("/Admin/getUsers?sea=" + search, function (data) {

                $('#myTable').find('tbody').empty();
              
                var items = '<tr><td>Id</td><td>First Name</td><td>last Name</td><td>Email</td><td>UserName</td><td>Status</td><td>Change Status</td><td>Delete User</td></tr>';
                $.each(data, function (i, user) {
                    var block = '';
                    var del = '';
                    var del = "<a href=\"/Admin/DeleteUser/" + user.Id + "\">Delete User</a>";;

                    if (data.status == "Active") {
                        block = "<a href=\"/Admin/BlockUser/" + user.Id + "\">Disable User</a>";

                    }
                    else {
                        block = "<a href=\"/Admin/ActiveUser/" + user.Id + "\">Active User</a>";

                    }

                    items += "<tr><td>" + user.Id + "</td><td>" + user.firstName + "</td><td>" + user.lastName + "</td><td>" + user.email + "</td><td>" + user.username + "</td><td>" + user.status + "</td><td>" + block + "</td><td>" + del + "</td><tr>";
                });




                $('#myTable').find('tbody').append(items);


            });

        });

     
    });

</script>
<!--==============================
              footer
=================================-->
